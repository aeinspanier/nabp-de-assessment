version: 2

models:
  - name: chicago_establishment_inspections_inter
    description: "Chicago Establishment Inspections Intermediate Table"
    columns:
      - name: business_id
        data_type: varchar
        description: "Unique id for business"
        data_tests:
          - not_null
          - unique
      - name: inspection_id
        data_type: varchar
        description: "Unique ID for inspection"
        data_tests:
          - not_null
      - name: business_name
        data_type: varchar
        description: "Name of Business"
        data_tests:
          - not_null
      - name: inspection_status
        data_type: varchar
        description: "Status of inspection (pass/fail)"
        data_tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['PASS', 'FAIL', 'UNKNOWN']
      - name: business_address
        data_type: varchar
        description: "Address of Business"
        data_tests:
          - not_null
      - name: inspection_date
        data_type: date 
        description: "Date of inspection"
        data_tests:
          - not_null
      - name: inspection_type
        data_type: varchar
        description: "Type of inspection"
        data_tests:
          - not_null
      - name: inspections_last_updated_at
        data_type: timestamp
        description: "Time at which inspections record was last updated"
        data_tests:
          - not_null
      - name: establishments_last_updated_at
        data_type: timestamp
        description: "Time at which establishments record was last updated"
        data_tests:
          - not_null
      - name: last_updated_at
        data_type: timestamp
        description: "Time at which record was last updated"
  - name: nyc_establishment_inspections_inter
    description: "NYC Establishment Inspections Intermediate Table"
    columns:
      - name: business_id
        data_type: varchar
        description: "Unique id for business"
        data_tests:
          - not_null
          - unique
      - name: inspection_id
        data_type: varchar
        description: "Unique ID for inspection"
        data_tests:
          - not_null
      - name: business_name
        data_type: varchar
        description: "Name of Business"
        data_tests:
          - not_null
      - name: inspection_status
        data_type: varchar
        description: "Status of inspection (pass/fail)"
        data_tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['PASS', 'FAIL', 'UNKNOWN']
      - name: business_address
        data_type: varchar
        description: "Address of Business"
        data_tests:
          - not_null
      - name: inspection_date
        data_type: date 
        description: "Date of inspection"
        data_tests:
          - not_null
      - name: inspection_type
        data_type: varchar
        description: "Type of inspection"
        data_tests:
          - not_null
      - name: inspections_last_updated_at
        data_type: timestamp
        description: "Time at which inspections record was last updated"
        data_tests:
          - not_null
      - name: establishments_last_updated_at
        data_type: timestamp
        description: "Time at which establishments record was last updated"
        data_tests:
          - not_null
      - name: last_updated_at
        data_type: timestamp
        description: "Time at which record was last updated"
  - name: sf_establishment_inspections_inter
    description: "SF Establishment Inspections Intermediate Table"
    columns:
      - name: business_id
        data_type: varchar
        description: "Unique id for business"
        data_tests:
          - not_null
          - unique
      - name: inspection_id
        data_type: varchar
        description: "Unique ID for inspection"
        data_tests:
          - not_null
      - name: business_name
        data_type: varchar
        description: "Name of Business"
        data_tests:
          - not_null
      - name: inspection_status
        data_type: varchar
        description: "Status of inspection (pass/fail)"
        data_tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['PASS', 'FAIL', 'UNKNOWN']
      - name: business_address
        data_type: varchar
        description: "Address of Business"
        data_tests:
          - not_null
      - name: inspection_date
        data_type: date 
        description: "Date of inspection"
        data_tests:
          - not_null
      - name: inspection_type
        data_type: varchar
        description: "Type of inspection"
        data_tests:
          - not_null
      - name: inspections_last_updated_at
        data_type: timestamp
        description: "Time at which inspections record was last updated"
        data_tests:
          - not_null
      - name: establishments_last_updated_at
        data_type: timestamp
        description: "Time at which establishments record was last updated"
        data_tests:
          - not_null
      - name: last_updated_at
        data_type: timestamp
        description: "Time at which record was last updated"
  - name: health_inspections_inter
    description: "Chicago Establishment Inspections Intermediate Table"
    columns:
      - name: city_tag
        data_type: varchar
        description: "Tag describing city where record originates from"
        data_tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['NYC', 'SF', 'CHICAGO']
      - name: business_id
        data_type: varchar
        description: "Unique id for business"
        data_tests:
          - not_null
          - unique
      - name: inspection_id
        data_type: varchar
        description: "Unique ID for inspection"
        data_tests:
          - not_null
      - name: business_name
        data_type: varchar
        description: "Name of Business"
        data_tests:
          - not_null
      - name: inspection_status
        data_type: varchar
        description: "Status of inspection (pass/fail)"
        data_tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['PASS', 'FAIL', 'UNKNOWN']
      - name: business_address
        data_type: varchar
        description: "Address of Business"
        data_tests:
          - not_null
      - name: inspection_date
        data_type: date 
        description: "Date of inspection"
        data_tests:
          - not_null
      - name: inspection_type
        data_type: varchar
        description: "Type of inspection"
        data_tests:
          - not_null
      - name: inspection_last_updated
        data_type: timestamp
        description: "Time at which record was last updated"
        data_tests:
          - not_null
